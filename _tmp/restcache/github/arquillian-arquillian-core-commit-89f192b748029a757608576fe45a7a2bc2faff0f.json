{"commit":{"tree":"cb73cd70181c85cf6b0a48c997b44746cff25943","parents":[{"id":"722c3766a4c6a86d5d39a570d8346e830531cef3"}],"authored_date":"2011-09-08T13:20:25-07:00","id":"89f192b748029a757608576fe45a7a2bc2faff0f","added":["config/impl-base/src/main/java/org/jboss/arquillian/config/descriptor/impl/StringPropertyReplacer.java","config/impl-base/src/main/java/org/jboss/arquillian/config/descriptor/impl/SysPropertyActions.java","config/impl-base/src/test/java/org/jboss/arquillian/config/descriptor/impl/ArquillianDescriptorPropertiesTestCase.java"],"url":"/arquillian/arquillian-core/commit/89f192b748029a757608576fe45a7a2bc2faff0f","committer":{"email":"alr@alrubinger.com","name":"Andrew Lee Rubinger","login":"ALRubinger"},"committed_date":"2011-09-09T02:44:05-07:00","message":"ARQ-148 Support EL-like expressions for sysprops and env variables in arquillian.xml","author":{"email":"ralf.battenfeld@bluewin.ch","name":"ralfbattenfeld","login":"ralfbattenfeld"},"modified":[{"filename":"config/api/src/main/java/org/jboss/arquillian/config/descriptor/api/ArquillianDescriptor.java","diff":"@@ -46,4 +46,6 @@\n    \n    List<ExtensionDef> getExtensions();   \n    \n+   ArquillianDescriptor resolve();\n+   \n }"},{"filename":"config/impl-base/src/main/java/org/jboss/arquillian/config/descriptor/impl/ArquillianDescriptorImpl.java","diff":"@@ -25,6 +25,8 @@\n import org.jboss.arquillian.config.descriptor.api.EngineDef;\n import org.jboss.arquillian.config.descriptor.api.ExtensionDef;\n import org.jboss.arquillian.config.descriptor.api.GroupDef;\n+import org.jboss.shrinkwrap.descriptor.api.Descriptor;\n+import org.jboss.shrinkwrap.descriptor.api.Descriptors;\n import org.jboss.shrinkwrap.descriptor.spi.node.Node;\n import org.jboss.shrinkwrap.descriptor.spi.node.NodeDescriptorImplBase;\n \n@@ -167,4 +169,16 @@ public Node getRootNode()\n    {\n       return model;\n    }\n+\n+\t@Override\n+\tpublic ArquillianDescriptor resolve() \n+\t{\n+\t\tString descrStr = this.exportAsString();\n+\t\tArquillianDescriptor newArqDescriptor = \n+\t\t\tDescriptors.importAs(ArquillianDescriptor.class)\n+\t\t\t\t.from(StringPropertyReplacer.replaceProperties(descrStr));\n+\t\t\n+\t\treturn newArqDescriptor;\n+\t}   \n+   \n }"}]}}