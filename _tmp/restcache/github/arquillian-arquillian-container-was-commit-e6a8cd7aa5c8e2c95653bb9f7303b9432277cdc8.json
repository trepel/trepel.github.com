{"commit":{"author":{"login":"gpoul","email":"gerhard.poul@gmail.com","name":"Gerhard Poul"},"authored_date":"2012-05-14T06:19:49-07:00","modified":[{"filename":"pom.xml","diff":"@@ -25,7 +25,7 @@\n     <!-- Properties -->\n     <properties>\n         <!-- Versioning -->\n-        <version.arquillian_core>1.0.0.CR1-SNAPSHOT</version.arquillian_core>\n+        <version.arquillian_core>1.0.0.Final</version.arquillian_core>\n \n         <!-- override from parent -->\n         <maven.compiler.argument.target>1.5</maven.compiler.argument.target>\n@@ -42,6 +42,13 @@\n                 <type>pom</type>\n                 <scope>import</scope>\n             </dependency>\n+            <dependency>\n+                <groupId>org.jboss.arquillian</groupId>\n+                <artifactId>arquillian-build</artifactId>\n+                <version>${version.arquillian_core}</version>\n+                <type>pom</type>\n+                <scope>import</scope>\n+            </dependency>\n         </dependencies>\n     </dependencyManagement>\n "},{"filename":"was-remote-7/pom.xml","diff":"@@ -86,6 +86,16 @@\n             <artifactId>arquillian-testenricher-initialcontext</artifactId>\n         </dependency>\n \n+        <dependency>\n+            <groupId>org.jboss.shrinkwrap.descriptors</groupId>\n+            <artifactId>shrinkwrap-descriptors-api-javaee</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.jboss.shrinkwrap.descriptors</groupId>\n+            <artifactId>shrinkwrap-descriptors-impl-javaee</artifactId>\n+            <scope>runtime</scope>\n+        </dependency>\n+\n         <!-- com.ibm.websphere -->\n \n         <dependency>"},{"filename":"was-remote-7/src/main/java/org/jboss/arquillian/container/was/remote_7/WebSphereRemoteContainer.java","diff":"@@ -54,7 +54,7 @@\n import org.jboss.shrinkwrap.api.spec.JavaArchive;\n import org.jboss.shrinkwrap.descriptor.api.Descriptor;\n import org.jboss.shrinkwrap.descriptor.api.Descriptors;\n-import org.jboss.shrinkwrap.descriptor.api.spec.ee.application.ApplicationDescriptor;\n+import org.jboss.shrinkwrap.descriptor.api.application5.ApplicationDescriptor;\n import org.w3c.dom.Node;\n import org.w3c.dom.NodeList;\n import org.xml.sax.InputSource;\n@@ -191,7 +191,7 @@ public ProtocolMetaData deploy(final Archive<?> archive) throws DeploymentExcept\n \n          // Generate the application.xml DD and add it to the EAR\n          ApplicationDescriptor appDescriptor = Descriptors.create(ApplicationDescriptor.class);\n-         appDescriptor.webModule(archive.getName(), earName);\n+         appDescriptor.createModule().getOrCreateWeb().webUri(archive.getName()).contextRoot(earName);\n          deploymentArchive.setApplicationXML(\n                new StringAsset(appDescriptor.exportAsString()));\n       } else if (EnterpriseArchive.class.isInstance(archive)){"},{"filename":"was-remote-8/pom.xml","diff":"@@ -86,6 +86,16 @@\n             <artifactId>arquillian-testenricher-initialcontext</artifactId>\n         </dependency>\n \n+        <dependency>\n+            <groupId>org.jboss.shrinkwrap.descriptors</groupId>\n+            <artifactId>shrinkwrap-descriptors-api-javaee</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.jboss.shrinkwrap.descriptors</groupId>\n+            <artifactId>shrinkwrap-descriptors-impl-javaee</artifactId>\n+            <scope>runtime</scope>\n+        </dependency>\n+\n         <!-- com.ibm.websphere -->\n \n         <dependency>"},{"filename":"was-remote-8/src/main/java/org/jboss/arquillian/container/was/remote_8/WebSphereRemoteContainer.java","diff":"@@ -54,7 +54,7 @@\n import org.jboss.shrinkwrap.api.spec.JavaArchive;\n import org.jboss.shrinkwrap.descriptor.api.Descriptor;\n import org.jboss.shrinkwrap.descriptor.api.Descriptors;\n-import org.jboss.shrinkwrap.descriptor.api.spec.ee.application.ApplicationDescriptor;\n+import org.jboss.shrinkwrap.descriptor.api.application6.ApplicationDescriptor;\n import org.w3c.dom.Node;\n import org.w3c.dom.NodeList;\n import org.xml.sax.InputSource;\n@@ -191,7 +191,7 @@ public ProtocolMetaData deploy(final Archive<?> archive) throws DeploymentExcept\n \n          // Generate the application.xml DD and add it to the EAR\n          ApplicationDescriptor appDescriptor = Descriptors.create(ApplicationDescriptor.class);\n-         appDescriptor.webModule(archive.getName(), earName);\n+         appDescriptor.createModule().getOrCreateWeb().webUri(archive.getName()).contextRoot(earName);\n          deploymentArchive.setApplicationXML(\n                new StringAsset(appDescriptor.exportAsString()));\n       } else if (EnterpriseArchive.class.isInstance(archive)){"}],"committed_date":"2012-06-13T05:43:48-07:00","parents":[{"id":"0a48760b84c8ca404ad39258ee16b88ba72ea813"}],"message":"ARQ-1001 Move arquillian_core dependency to 1.0.0.Final and addressed arquillian-build\ndependency of ARQ-477.\n\n* Migrate to new ShrinkWrap Descriptors API","tree":"19e8fa1f2c0fc8ec087df03651102933e790d2eb","committer":{"login":"aslakknutsen","email":"aslak@redhat.com","name":"Aslak Knutsen"},"url":"/arquillian/arquillian-container-was/commit/e6a8cd7aa5c8e2c95653bb9f7303b9432277cdc8","id":"e6a8cd7aa5c8e2c95653bb9f7303b9432277cdc8"}}